<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Men√∫ | Taco's Serrano</title>
  <link rel="icon" href="assets/favicon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <style>
    :root { --primary:#FFD100; --accent:#C8102E; --dark:#1C1C1C; --light:#fff; }
    body{font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue','Noto Sans',sans-serif;margin:0;background:#fafafa;color:#222}
    .header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;position:sticky;top:0;z-index:20;border-bottom:1px solid #eee}
    .brand{display:flex;align-items:center;gap:10px}
    .brand .logo{height:40px;width:auto}
    .brand h1{font-family:'Bebas Neue',sans-serif;letter-spacing:.5px;margin:0;font-size:28px}
    .tagline{color:#666}
    .cart-button,.cta{background:var(--primary);border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;padding:16px}
    .card{background:#fff;border:1px solid #eee;border-radius:14px;overflow:hidden;display:flex;flex-direction:column}
    .card img{width:100%;height:150px;object-fit:cover}
    .card .p16{padding:12px 14px}
    .price{color:#000;font-weight:700}
    .tabs{display:flex;gap:8px;flex-wrap:wrap;padding:8px 12px}
    .tab{border:1px solid #ddd;background:#fff;border-radius:999px;padding:6px 12px;cursor:pointer}
    .tab.active{background:var(--dark);color:#fff;border-color:var(--dark)}
    .search{padding:12px}
    .search input{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:10px}
    .footer{position:sticky;bottom:0;background:#fff;border-top:1px solid #eee;padding:12px;display:flex;justify-content:center}
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.4);z-index:50}
    .modal.show{display:grid;place-items:center}
    .modal-card{background:#fff;width:min(640px,92vw);max-height:88vh;overflow:auto;padding:16px;border-radius:16px}
    .modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .icon-btn{background:#f3f3f3;border:none;border-radius:8px;padding:6px 10px;cursor:pointer}
    .line{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f1f1f1}
    .line .note{font-size:12px;color:#666}
    .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px}
    .ghost{background:#f6f6f6;border:1px solid #ddd;border-radius:10px;padding:10px 14px;cursor:pointer}
    .modal-footer{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-top:12px}
    .qty-row{display:flex;align-items:center;gap:8px}
    .qty-btn{padding:8px 12px;font-size:18px;border-radius:8px;border:1px solid #ddd;background:#f9f9f9;cursor:pointer}
    #optQty{width:64px;text-align:center;padding:8px;border:1px solid #ddd;border-radius:8px}
    .option-group{margin-bottom:12px}
    .option-group h4{margin:8px 0;font-size:14px;color:#444}
    .opt-toppings{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}
    .opt-chip{display:flex;align-items:center;gap:8px;padding:8px;border:1px solid #eee;border-radius:8px}
    .opt-protein-select{width:100%;padding:8px;border:1px solid #ddd;border-radius:8px}
  </style>
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#C8102E">
  <!-- ===== Estilo Taco‚Äôs Serrano: fuentes + color del sistema ===== -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

</head>
<body>
<header class="header">
  <div class="brand">
    <img src="assets/logo.png" alt="Taco's Serrano" class="logo"/>
    <div>
      <h1 id="brand-name">Taco's Serrano</h1>
      <small class="tagline">Men√∫ digital ‚Äî Pedido por WhatsApp</small>
    </div>
  </div>
  <button class="cart-button" id="openCartBtn" aria-label="Abrir carrito">üõí <span id="cartCount">0</span></button>
</header>

<main>
  <section class="search">
    <input id="searchInput" type="search" placeholder="Buscar: taco, burger, papas..." />
  </section>

  <nav id="categoryTabs" class="tabs"></nav>

  <section id="products" class="grid"></section>
</main>

<footer class="footer">
  <button id="openCartBtnFooter" class="cta">Ver carrito (‚Ç°<span id="cartTotal">0</span>)</button>
</footer>

<div class="modal" id="cartModal" aria-hidden="true">
  <div class="modal-card">
    <header class="modal-header">
      <h2>Tu pedido</h2>
      <button id="closeCartBtn" class="icon-btn" aria-label="Cerrar">‚úï</button>
    </header>

    <div id="cartItems"></div>

    <div class="notes">
      <label>Notas del pedido</label>
      <textarea id="orderNotes" placeholder="Ej: sin cebolla, extra salsa..." style="width:100%;min-height:72px;border:1px solid #ddd;border-radius:10px;padding:8px"></textarea>
    </div>

    <div class="customer" style="display:grid;gap:8px;margin-top:8px">
      <label>Nombre del cliente</label>
      <input id="custName" placeholder="Tu nombre" style="padding:8px;border:1px solid #ddd;border-radius:10px" />
      <label>Tipo de entrega</label>
      <select id="deliveryType" style="padding:8px;border:1px solid #ddd;border-radius:10px">
        <option value="Para recoger">Para recoger</option>
        <option value="A domicilio">A domicilio</option>
        <option value="Mesa">Mesa</option>
      </select>
      <label>Direcci√≥n / Mesa</label>
      <input id="custAddress" placeholder="Ej: 100m norte de..." style="padding:8px;border:1px solid #ddd;border-radius:10px" />
      <label>Forma de pago</label>
      <select id="payMethod" style="padding:8px;border:1px solid #ddd;border-radius:10px">
        <option value="Efectivo contra entrega">Efectivo contra entrega</option>
        <option value="SINPE M√≥vil">SINPE M√≥vil</option>
      </select>
      <small>Si eleg√≠s SINPE M√≥vil, pag√° al <strong>8313-7606</strong> a nombre de <strong>Nelson Mora</strong>.</small>
    </div>

    <div class="total" style="margin-top:8px">
      <strong>Total:</strong> <span>‚Ç°</span><span id="cartTotalModal">0</span>
    </div>

    <div class="actions">
      <button class="ghost" id="clearCartBtn">Vaciar</button>
      <button class="cta" id="sendWhatsAppBtn">Confirmar y enviar a WhatsApp</button>
    </div>
  </div>
</div>

<div class="modal" id="itemOptionsModal" aria-hidden="true">
  <div class="modal-card">
    <header class="modal-header">
      <h3 id="optTitle">Elige opciones</h3>
      <button class="icon-btn" id="optCloseBtn" aria-label="Cerrar">‚úï</button>
    </header>
    <div id="optBody"></div>
    <footer class="modal-footer">
      <div class="qty-row">
        <button class="qty-btn" id="optQtyMinus">‚àí</button>
        <input id="optQty" type="number" min="1" value="1" />
        <button class="qty-btn" id="optQtyPlus">+</button>
      </div>
      <button class="cta" id="optAddBtn">Agregar al carrito</button>
    </footer>
  </div>
</div>

<script src="app.js"></script>

<!-- BOT√ìN FLOTANTE ‚Üí FIDELIDAD -->
<a href="/fidelidad/" 
   style="position:fixed;right:18px;bottom:18px;background:#C8102E;color:#fff;
          padding:14px 18px;border-radius:9999px;font-weight:700;
          font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
          box-shadow:0 6px 20px rgba(0,0,0,0.25);text-decoration:none;z-index:9999;">
  üéÅ Tarjetas de Fidelidad
</a>
<!-- /FIN BOT√ìN FLOTANTE -->


<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function () {
      navigator.serviceWorker.register('/service-worker.js').catch(console.error);
    });
  }
</script>

</body>
</html>
